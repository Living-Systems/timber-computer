---
// Import content function
import { getBuildingByName, getSingleTypeResult } from '../lib/api';
import { useStore } from "@nanostores/vue";
import { calculation } from "../../store/constructions.js";

// Component Imports
import BaseLayout from '../layouts/BaseLayout.astro';


// You can import components from any supported Framework here!
// import Index from './index.vue';
import ComputerNav from '../components/Computer/ComputerNav.vue';

import ButtonNavigation from '../components/UI/ButtonNavigation.vue';
import Header from '../components/UI/Header.vue';
import TextBox from '../components/UI/TextBox.vue';
import Result from '../components/Computer/Result.vue';
import BgImage from '../components/UI/BgImage.vue';

// Component Script:
// You can write any JavaScript/TypeScript that you'd like here.
// It will run during the build, but never in the browser.
// All variables are available to use in the HTML template below.
const buildingType = "Typenhaus";
const getBuilding  = await getBuildingByName( buildingType );
const building     = getBuilding.data[0].attributes;


const getResultSingle  = await getSingleTypeResult();
const result           = getResultSingle.data.attributes;
// TextBox input
let textBoxHeading = 'Computation complete';

// Full Astro Component Syntax:
// https://docs.astro.build/core-concepts/astro-components/
---


<BaseLayout title={ result.title }>

    <Header slot="header" link-to="/learn" link-name="learn" header-class="text-alternate"/>

    <div slot="main" class="flex flex-col flex-1 px-body h-full">

        <Result client:load/>

        <div class="mt-auto pb-body">
            <!--<ButtonNavigation button-l="Revise Selections" href-l="/computer" button-r="Mail complete report" href-r="#"/>-->
            <ButtonNavigation button-l="Revise Selections" href-l="/computer"/>
        </div>

        <BgImage image={ result.backgroundImage }/>
    </div>

</BaseLayout>
